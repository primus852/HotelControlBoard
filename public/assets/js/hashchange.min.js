(function(j,m,d){function h(a){a=a||location.href;return"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var b="hashchange",g=document,p,c=j.event.special,l=g.documentMode,k="on"+b in m&&(l===d||l>7);j.fn[b]=function(a){return a?this.bind(b,a):this.trigger(b)};j.fn[b].delay=50;c[b]=j.extend(c[b],{setup:function(){if(k){return false}j(p.start)},teardown:function(){if(k){return false}j(p.stop)}});p=function(){function n(){var s=h(),o=f(e);if(s!==e){t(e=s,o);j(m).trigger(b)}else{if(o!==e){location.href=location.href.replace(/#.*/,"")+o}}r=setTimeout(n,j.fn[b].delay)}var i={},r,e=h(),a=function(o){return o},t=a,f=a;i.start=function(){r||n()};i.stop=function(){r&&clearTimeout(r);r=d};var q=function(){var u,o=3,v=document.createElement("div"),s=v.getElementsByTagName("i");while(v.innerHTML="<!--[if gt IE "+ ++o+"]><i></i><![endif]-->",s[0]){}return o>4?o:u}();q&&!k&&function(){var o,s;i.start=function(){if(!o){s=j.fn[b].src;s=s&&s+h();o=j('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){s||t(h());n()}).attr("src",s||"javascript:0").insertAfter("body")[0].contentWindow;g.onpropertychange=function(){try{if(event.propertyName==="title"){o.document.title=g.title}}catch(u){}}}};i.stop=a;f=function(){return h(o.location.href)};t=function(y,w){var x=o.document,v=j.fn[b].domain;if(y!==w){x.title=g.title;x.open();v&&x.write('<script>document.domain="'+v+'"<\/script>');x.close();o.location.hash=y}}}();return i}()})(jQuery,this);